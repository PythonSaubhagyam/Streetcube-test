<!DOCTYPE html>
<html>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet"href="{{ url_for('static', filename='boots/css/bootstrap.min.css')}}">
    <link href="{{url_for('static', filename='dist/filepond.css')}}" rel="stylesheet" />
    <link href="https://unpkg.com/filepond-plugin-image-edit/dist/filepond-plugin-image-edit.css" rel="stylesheet">
    <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
    <script src="{{ url_for('static', filename='boots/js/jquery.min.js')}}"></script>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500&display=swap" rel="stylesheet">
    <link id="bsdp-css" href="https://unpkg.com/bootstrap-datepicker@1.9.0/dist/css/bootstrap-datepicker3.min.css" rel="stylesheet">
    <script src="https://unpkg.com/bootstrap-datepicker@1.9.0/dist/js/bootstrap-datepicker.min.js"></script>
    <script src="{{url_for('static', filename='dist/filepond.js')}}"></script>
    <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
    <script src="https://unpkg.com/filepond-plugin-image-crop/dist/filepond-plugin-image-crop.js"></script>
    <script src="https://unpkg.com/filepond-plugin-image-edit/dist/filepond-plugin-image-edit.js"></script>
    <script src="https://unpkg.com/filepond-plugin-image-transform/dist/filepond-plugin-image-transform.js"></script>
    <script src="https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="{{ url_for('static', filename='boots/css/style.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='boots/css/custom.css')}}">

    <!--Data Tables -->
    <link href="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/css/dataTables.bootstrap4.min.css')}}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/css/buttons.bootstrap4.min.css')}}" rel="stylesheet" type="text/css">
     <script src="{{ url_for('static', filename='dist/jquery.validate.min.js')}}"></script>

    {% if title %}
        <title>StreetCube - {{ title }}</title>
        {% else %}
        <title>StreetCube - Home</title>
    {% endif %}
</head>
<body>
     {% include 'include/header.jinja2' %}
        
        {% block body %}  {% endblock %}

     {% include 'include/footer.jinja2' %}       
        
  

        
	<script src="{{ url_for('static', filename='boots/js/js.js')}}"></script>
    <script src="{{ url_for('static', filename='boots/js/popper.min.js')}}"></script>
    <script src="{{ url_for('static', filename='boots/js/bootstrap.min.js')}}"></script>
    <!--Data Tables js-->
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/jquery.dataTables.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/dataTables.bootstrap4.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/dataTables.buttons.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/buttons.bootstrap4.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/jszip.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/pdfmake.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/vfs_fonts.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/buttons.html5.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/buttons.print.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/plugins/bootstrap-datatable/js/buttons.colVis.min.js')}}"></script>
 
    
{# <script src="{{url_for('static', filename='dist/profile.js')}}"></script>#}


<script>
     $(document).ready(function() {
      //Default data table
       $('#default-datatable').DataTable();


       var table = $('#example').DataTable( {
        lengthChange: false,
        buttons: [ 'copy', 'excel', 'pdf', 'print', 'colvis' ]
      } );

     table.buttons().container()
        .appendTo( '#example_wrapper .col-md-6:eq(0)' );

      } );



    </script>

    <script>
        let  pub_lib_insu = false;
        let c_19risk_asses = false;
        let food_certi = false;

        $(function () {
        $('[data-toggle="tooltip"]').tooltip()
        })

            FilePond.registerPlugin(
                FilePondPluginImagePreview,

                FilePondPluginFileValidateType
            );
			const inputElementg = document.querySelector("#pub_lib_insu");
			const pondgallery = FilePond.create(inputElementg, {
			    allowMultiple:true,
                allowImagePreview:true,
				allowFileTypeValidation:true,
				acceptedFileTypes:['image/jpg','image/jpeg','image/png','application/pdf','application/msword','application/vnd.openxmlformats-officedocument.wordprocessingml.document'],
				allowReorder: true,
				allowReplace: true,
				name: 'pub_lib_insu',
				instantUpload: true,
				onaddfile: () => {
					console.log('add');
				},
				onremovefile: () => {
					console.log('remove');
				},
				server: {
					  process: {
							url: " ",
							method: 'POST',
							withCredentials: false,
							headers: {},
							onload: (response) => {
								response = JSON.parse(response);
                                console.log(response);
                                if(response.status==200){

                                  let ft = '<input type ="hidden" name="pub_lib_insu" value =  "'+response.pub_file_path+'"/>';

                                  $('#doc_d').append(ft);

                                }
                                //alert(response.message);
                        	},
							onerror: console.log,
							ondata: null
					  },
				}
			});

			const inputElementrisk = document.querySelector("#c_19risk_asses");
			const pondgalleryrisk = FilePond.create(inputElementrisk, {
			    allowMultiple:true,
                allowImagePreview:true,
				allowFileTypeValidation:true,
				acceptedFileTypes:['image/jpg','image/jpeg','image/png','application/pdf','application/msword','application/vnd.openxmlformats-officedocument.wordprocessingml.document'],
				allowReorder: true,
				allowReplace: true,
				name: 'c_19risk_asses',
				instantUpload: true,
				onaddfile: () => {
					console.log('add');
				},
				onremovefile: () => {
					console.log('remove');
				},
				server: {
					  process: {
							url: " ",
							method: 'POST',
							withCredentials: false,
							headers: {},
							onload: (response) => {
								response = JSON.parse(response);
								if(response.status==200){
                                  let ft = "<input type ='hidden' name='c_19risk_asses' value =  '"+response.c_file_path+"' />";

                                  $('#doc_d').append(ft);
                                }
                                //console.log(response);
                                //alert(response.message);
                        	},
							onerror: console.log,
							ondata: null
					  },
				}
			});
			const inputElementfc = document.querySelector("#food_certi");
			const pondgalleryfc = FilePond.create(inputElementfc, {
			    allowMultiple:true,
                allowImagePreview:true,
				allowFileTypeValidation:true,
				acceptedFileTypes:['image/jpg','image/jpeg','image/png','application/pdf','application/msword','application/vnd.openxmlformats-officedocument.wordprocessingml.document'],
				allowReorder: true,
				allowReplace: true,
				name: 'food_certi',
				instantUpload: true,
				onaddfile: () => {
					console.log('add');
				},
				onremovefile: () => {
					console.log('remove');
				},
				server: {
					  process: {
							url: " ",
							method: 'POST',
							withCredentials: false,
							headers: {},
							onload: (response) => {
								response = JSON.parse(response);
								if(response.status==200){
                                  let ft = "<input type ='hidden' name='food_certi' value =  '"+response.f_file_path+"' />";

                                  $('#doc_d').append(ft);
                                }
                                //console.log(response);
                                //alert(response.message);
                        	},
							onerror: console.log,
							ondata: null
					  },
				}
			});


    </script>


    <script>
        $( document ).ready(function() {
          $('#cal').datepicker({
              daysOfWeekDisabled: "1,2,3,4",
              multidate: true,
              multidateSeparator: ', ',
              format: 'yyyy-mm-dd',
              todayHighlight:'TRUE',
              //startDate: '-0d',

              startDate: "now()",
          });
        });
</script>


 <script>
    function validatePassword() {
        var validator = $("#upForm").validate({
            rules: {
                oldpass: "required",
                newpass: "required",
                confpass: {
                    equalTo: "#newpass"
                }
            },
            messages: {
                newpass:  "Enter Password",
                confpass: "Enter Confirm Password Same as New Password"
            }
        });
        
    }
 
  </script>   

    </body>
    
</html>